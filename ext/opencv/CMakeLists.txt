include(ExternalProject)

if (NOT DEPS_LOCATION)
    set(DEPS_LOCATION "${CMAKE_BINARY_DIR}/deps")
endif()

ExternalProject_Add(ext.opencv
    DEPENDS envpkg
    GIT_REPOSITORY https://github.com/Itseez/opencv.git
    GIT_TAG "3.0.0-beta"
    CMAKE_ARGS -DCMAKE_TOOLCHAIN_FILE=${_cross_toolchain_file} -DENABLE_PRECOMPILED_HEADERS=OFF -DCMAKE_INSTALL_PREFIX=${DEPS_LOCATION} -DBUILD_JPEG=OFF -DWITH_CUDA=OFF -DWITH_OPENCL=ON -DWITH_OPENGL=ON -DWITH_GSTREAMER=ON -DWITH_IPP=OFF
    PREFIX "${DEPS_LOCATION}"
    INSTALL_DIR "${DEPS_LOCATION}"
)

